(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{707:(e,s,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/discover",function(){return n(6279)}])},1071:(e,s,n)=>{"use strict";n.d(s,{A:()=>d});var t=n(7876),o=n(4232),i=n(1762),a=n.n(i),r=n(9099),c=n(1777),l=n(7629);function d(e){let{children:s}=e,n=(0,r.useRouter)(),i=(0,c.wA)(),d=(0,c.d4)(e=>e.auth),_=n.pathname;return(0,o.useEffect)(()=>{null===localStorage.getItem("token")?n.push("/login"):i((0,l.uB)())},[n,i]),(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:a().homeContainer,children:[(0,t.jsx)("div",{className:a().cover,children:(0,t.jsxs)("div",{className:a().homeContainer__leftBar,children:[(0,t.jsxs)("div",{onClick:()=>n.push("/dashboard"),className:"".concat(a().sidebarOption," ").concat("/dashboard"===_?a().active:""),children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,t.jsx)("p",{children:"Home"})]}),(0,t.jsxs)("div",{onClick:()=>n.push("/discover"),className:"".concat(a().sidebarOption," ").concat("/discover"===_?a().active:""),children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),(0,t.jsx)("p",{children:"Discover"})]}),(0,t.jsxs)("div",{onClick:()=>n.push("/my_connections"),className:"".concat(a().sidebarOption," ").concat("/my_connections"===_?a().active:""),children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),(0,t.jsx)("p",{children:"My Connections"})]})]})}),(0,t.jsx)("div",{className:"homeContainer__feedContainer",children:s}),(0,t.jsxs)("div",{className:"homeContainer__extraContainer",children:[(0,t.jsx)("h1",{children:"Top Profiles"}),d.all_profiles_fetched&&d.all_users.map(e=>(0,t.jsx)("div",{className:a().extraContainer__profile,children:(0,t.jsx)("p",{children:e.name})},e._id))]})]})})})}},1280:(e,s,n)=>{"use strict";n.d(s,{A:()=>d});var t=n(7876);n(4232);var o=n(9099),i=n(1777),a=n(2431),r=n(6610),c=n.n(r);function l(){let e=(0,o.useRouter)(),s=(0,i.wA)(),{user:n,loggedIn:r}=(0,i.d4)(e=>e.auth);return(0,t.jsx)("div",{className:c().container,children:(0,t.jsxs)("div",{className:c().navbar,children:[(0,t.jsx)("div",{className:c().logo,onClick:()=>e.push("/"),children:"Pro Connect"}),(0,t.jsx)("div",{className:c().navbarOptions,children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:c().userSection,children:[(0,t.jsxs)("span",{className:c().userName,children:["Hey, ",(null==n?void 0:n.name)||"User"]}),(0,t.jsx)("span",{className:c().profileLink,onClick:()=>e.push("/profile"),children:"Profile"})]}),(0,t.jsx)("button",{onClick:()=>{s((0,a.y4)()),e.push("/")},className:c().buttonLogout,children:"Logout"})]}):(0,t.jsx)("button",{onClick:()=>e.push("/login"),className:c().buttonJoin,children:"Be a part"})})]})})}let d=function(e){let{children:s}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)(l,{}),s]})}},1762:e=>{e.exports={homeContainer:"styles_homeContainer__36fsz",cover:"styles_cover__4eydv",homeContainer__leftBar:"styles_homeContainer__leftBar__Yrkk2",homeContainer__rightBar:"styles_homeContainer__rightBar__LEuTH",sidebarOptionsContainer:"styles_sidebarOptionsContainer__T3Uz6",sidebarOption:"styles_sidebarOption__JNw5R",active:"styles_active__sywO2",homeContainer__extraContainer:"styles_homeContainer__extraContainer__lpOQO"}},6279:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>m});var t=n(7876),o=n(4232),i=n(1777),a=n(9099),r=n(1280),c=n(1071),l=n(2431),d=n(9781),_=n.n(d),u=n(7523),h=n(5965),v=n(1436);function m(){let e=(0,i.d4)(e=>e.auth),s=(0,i.wA)(),n=(0,a.useRouter)(),[d,m]=(0,o.useState)(""),[p,x]=(0,o.useState)([]),[C,j]=(0,o.useState)({}),[f,N]=(0,o.useState)("");(0,o.useEffect)(()=>{e.all_profiles_fetched||s((0,l.CF)())},[e.all_profiles_fetched,s]),(0,o.useEffect)(()=>{var s;(null===(s=e.all_users)||void 0===s?void 0:s.length)>0&&x(""===d.trim()?e.all_users:e.all_users.filter(e=>{var s,n;return(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(d.toLowerCase()))||(null===(n=e.username)||void 0===n?void 0:n.toLowerCase().includes(d.toLowerCase()))}))},[d,e.all_users]);let y=(e,n)=>{if(e.stopPropagation(),C[n])return;let t=p.find(e=>e._id===n);t&&(j(e=>({...e,[n]:!0})),x(e=>e.map(e=>e._id!==n?e:e.connectionRequestSent||e.connectionRequestReceived||e.isConnection?e.connectionRequestSent?{...e,connectionRequestSent:!1,connectionRequestReceived:!1,isConnection:!1}:e.connectionRequestReceived?{...e,isConnection:!0,connectionRequestSent:!1,connectionRequestReceived:!1}:e.isConnection?{...e,isConnection:!1,connectionRequestSent:!1,connectionRequestReceived:!1}:e:{...e,connectionRequestSent:!0,connectionRequestReceived:!1,isConnection:!1})),s((t.connectionRequestSent||t.connectionRequestReceived||t.isConnection?l.SD:l.Wm)({connectionId:n})).then(e=>{if(e.error){var o;x(e=>e.map(e=>e._id===n?t:e)),N((null===(o=e.payload)||void 0===o?void 0:o.message)||"Error"),setTimeout(()=>N(""),3e3)}else s((0,l.CF)())}).catch(()=>{x(e=>e.map(e=>e._id===n?t:e)),N("Unexpected error"),setTimeout(()=>N(""),3e3)}).finally(()=>{j(e=>({...e,[n]:!1}))}))},g=p.filter(s=>{var n;return s._id!==(null===(n=e.user)||void 0===n?void 0:n._id)});return(0,t.jsx)(r.A,{children:(0,t.jsx)(c.A,{children:(0,t.jsxs)("div",{className:_().discoverContainer,children:[(0,t.jsxs)("div",{className:_().header,children:[(0,t.jsx)("h1",{children:"Discover People"}),(0,t.jsxs)("div",{className:_().searchContainer,children:[(0,t.jsx)("input",{type:"text",placeholder:"Search by name or username",value:d,onChange:e=>{m(e.target.value)},className:_().searchInput}),(0,t.jsx)("div",{className:_().searchIcon,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,t.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})})]}),f&&(0,t.jsx)("div",{className:_().errorMessage,children:f})]}),e.isLoading?(0,t.jsx)("div",{className:_().loading,children:"Loading users..."}):(0,t.jsx)("div",{className:_().allUserProfile,children:g.length>0?g.map(e=>{var s;return(0,t.jsxs)("div",{className:_().userCard,style:{cursor:"pointer"},onClick:()=>n.push("/view_profile/".concat(e.username)),children:[(0,t.jsx)("div",{className:_().avatarContainer,children:e.profilePicture?(0,t.jsx)("img",{src:"".concat(v.C,"/uploads/").concat(e.profilePicture||"default.png"),alt:e.name,className:_().avatar,onError:e=>{e.target.src="".concat(v.C,"/uploads/default.png")}}):(0,t.jsx)("div",{className:_().defaultAvatar,children:(null===(s=e.name)||void 0===s?void 0:s.charAt(0))||"U"})}),(0,t.jsxs)("div",{className:_().userInfo,children:[(0,t.jsx)("h2",{children:e.name}),(0,t.jsxs)("p",{children:["@",e.username]}),e.bio&&(0,t.jsx)("p",{className:_().userBio,children:e.bio}),(0,t.jsx)(u.A,{variant:"contained",color:e.isConnection?"secondary":e.connectionRequestSent?"warning":(e.connectionRequestReceived,"primary"),onClick:s=>y(s,e._id),disabled:C[e._id],startIcon:C[e._id]?(0,t.jsx)(h.A,{size:20}):null,children:e.isConnection?"Connected":e.connectionRequestSent?"Pending":e.connectionRequestReceived?"Accept":"Connect"})]})]},e._id)}):(0,t.jsx)("div",{className:_().noResults,children:d?"No users found matching your search.":"No users available to discover."})})]})})})}},6610:e=>{e.exports={container:"styles_container__WCP1D",navbar:"styles_navbar__16R5U",logo:"styles_logo__HBouD",navbarOptions:"styles_navbarOptions__fbl7O",userSection:"styles_userSection__K1Yhl",userName:"styles_userName__xf9_E",profileLink:"styles_profileLink____x7y",buttonJoin:"styles_buttonJoin__hW__U",buttonLogout:"styles_buttonLogout__SY8h5"}},9781:e=>{e.exports={discoverContainer:"styles_discoverContainer__atmxV",header:"styles_header__dLIGt",searchContainer:"styles_searchContainer__bTnEp",searchInput:"styles_searchInput__etfWK",searchIcon:"styles_searchIcon__BwVBG",allUserProfile:"styles_allUserProfile__NDMV9",userCard:"styles_userCard__rlaqd",avatarContainer:"styles_avatarContainer__iius8",avatar:"styles_avatar__WdHuO",defaultAvatar:"styles_defaultAvatar__wSJa0",userInfo:"styles_userInfo__7QJNr",connectButton:"styles_connectButton__y0e3d",loading:"styles_loading__ip340",noResults:"styles_noResults__gpElv"}}},e=>{var s=s=>e(e.s=s);e.O(0,[523,636,593,792],()=>s(707)),_N_E=e.O()}]);