(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1071:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var n=s(7876),o=s(4232),a=s(1762),r=s.n(a),i=s(9099),l=s(1777),c=s(7629);function m(e){let{children:t}=e,s=(0,i.useRouter)(),a=(0,l.wA)(),m=(0,l.d4)(e=>e.auth),d=s.pathname;return(0,o.useEffect)(()=>{null===localStorage.getItem("token")?s.push("/login"):a((0,c.uB)())},[s,a]),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:r().homeContainer,children:[(0,n.jsx)("div",{className:r().cover,children:(0,n.jsxs)("div",{className:r().homeContainer__leftBar,children:[(0,n.jsxs)("div",{onClick:()=>s.push("/dashboard"),className:"".concat(r().sidebarOption," ").concat("/dashboard"===d?r().active:""),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,n.jsx)("p",{children:"Home"})]}),(0,n.jsxs)("div",{onClick:()=>s.push("/discover"),className:"".concat(r().sidebarOption," ").concat("/discover"===d?r().active:""),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),(0,n.jsx)("p",{children:"Discover"})]}),(0,n.jsxs)("div",{onClick:()=>s.push("/my_connections"),className:"".concat(r().sidebarOption," ").concat("/my_connections"===d?r().active:""),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),(0,n.jsx)("p",{children:"My Connections"})]})]})}),(0,n.jsx)("div",{className:"homeContainer__feedContainer",children:t}),(0,n.jsxs)("div",{className:"homeContainer__extraContainer",children:[(0,n.jsx)("h1",{children:"Top Profiles"}),m.all_profiles_fetched&&m.all_users.map(e=>(0,n.jsx)("div",{className:r().extraContainer__profile,children:(0,n.jsx)("p",{children:e.name})},e._id))]})]})})})}},1280:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var n=s(7876);s(4232);var o=s(9099),a=s(1777),r=s(2431),i=s(6610),l=s.n(i);function c(){let e=(0,o.useRouter)(),t=(0,a.wA)(),{user:s,loggedIn:i}=(0,a.d4)(e=>e.auth);return(0,n.jsx)("div",{className:l().container,children:(0,n.jsxs)("div",{className:l().navbar,children:[(0,n.jsx)("div",{className:l().logo,onClick:()=>e.push("/"),children:"Pro Connect"}),(0,n.jsx)("div",{className:l().navbarOptions,children:i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:l().userSection,children:[(0,n.jsxs)("span",{className:l().userName,children:["Hey, ",(null==s?void 0:s.name)||"User"]}),(0,n.jsx)("span",{className:l().profileLink,onClick:()=>e.push("/profile"),children:"Profile"})]}),(0,n.jsx)("button",{onClick:()=>{t((0,r.y4)()),e.push("/")},className:l().buttonLogout,children:"Logout"})]}):(0,n.jsx)("button",{onClick:()=>e.push("/login"),className:l().buttonJoin,children:"Be a part"})})]})})}let m=function(e){let{children:t}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)(c,{}),t]})}},1762:e=>{e.exports={homeContainer:"styles_homeContainer__36fsz",cover:"styles_cover__4eydv",homeContainer__leftBar:"styles_homeContainer__leftBar__Yrkk2",homeContainer__rightBar:"styles_homeContainer__rightBar__LEuTH",sidebarOptionsContainer:"styles_sidebarOptionsContainer__T3Uz6",sidebarOption:"styles_sidebarOption__JNw5R",active:"styles_active__sywO2",homeContainer__extraContainer:"styles_homeContainer__extraContainer__lpOQO"}},3406:e=>{e.exports={modalOverlay:"styles_modalOverlay__Jzy0W",fadeIn:"styles_fadeIn____aKx",modalContent:"styles_modalContent__1_M0v",slideIn:"styles_slideIn__ny9si"}},3969:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var n=s(7876),o=s(4232),a=s(4916),r=s(3406),i=s.n(r);let l=e=>{let{isOpen:t,onClose:s,postId:r}=e;return((0,o.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s]),t)?(0,n.jsx)("div",{className:i().modalOverlay,onClick:s,children:(0,n.jsx)("div",{className:i().modalContent,onClick:e=>e.stopPropagation(),children:(0,n.jsx)(a.A,{postId:r,onClose:s})})}):null}},4916:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var n=s(7876),o=s(4232),a=s(1777),r=s(5459),i=s(7689),l=s.n(i),c=s(1436);let m=e=>{var t,s,i;let{postId:m,onClose:d}=e,_=(0,a.wA)(),{user:u}=(0,a.d4)(e=>e.auth),h=(0,a.d4)(e=>e.posts),[v,p]=(0,o.useState)(""),[x,y]=(0,o.useState)(1),j=(null===(t=h.commentsByPostId)||void 0===t?void 0:t[m])||[],C=null===(s=h.commentPagination)||void 0===s?void 0:s[m];(0,o.useEffect)(()=>{m&&_((0,r.wG)({post_id:m,page:1}))},[_,m]);let w=(0,a.d4)(e=>e.posts.posts.find(e=>e._id===m)),f=w&&u&&(null===(i=w.userId)||void 0===i?void 0:i._id)===u._id,g=async()=>{v.trim()&&(await _((0,r.eA)({post_id:m,commentBody:v})),p(""))},k=async e=>{confirm("Are you sure you want to delete this comment?")&&await _((0,r.Tu)({comment_id:e,post_id:m}))};return(0,n.jsxs)("div",{className:l().commentContainer,children:[(0,n.jsxs)("div",{className:l().commentHeader,children:[(0,n.jsx)("button",{className:l().closeButton,onClick:d,children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:"24",height:"24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,n.jsx)("h4",{children:"Comments"})]}),(0,n.jsxs)("div",{className:l().commentInputContainer,children:[(0,n.jsx)("img",{src:"".concat(c.C,"/uploads/").concat((null==u?void 0:u.profilePicture)||"default.png"),alt:"Profile",className:l().userAvatar,onError:e=>{e.target.src="/images/default-profile.png"}}),(0,n.jsx)("input",{type:"text",value:v,onChange:e=>{p(e.target.value)},placeholder:"Write a comment...",onKeyDown:e=>"Enter"===e.key&&g(),className:l().commentInput}),(0,n.jsx)("button",{onClick:g,className:l().commentButton,disabled:!v.trim(),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:"20",height:"20",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})})]}),(0,n.jsxs)("div",{className:l().commentsList,children:[j.map(e=>{var t,s,o;return(0,n.jsxs)("div",{className:l().commentItem,children:[(0,n.jsx)("img",{src:"".concat(c.C,"/uploads/").concat((null===(t=e.userId)||void 0===t?void 0:t.profilePicture)||"default.png"),alt:"Profile",className:l().commentAvatar,onError:e=>{e.target.src="/images/default-profile.png"}}),(0,n.jsxs)("div",{className:l().commentContent,children:[(0,n.jsxs)("div",{className:l().commentHeader,children:[(0,n.jsx)("span",{className:l().commentAuthor,children:null===(s=e.userId)||void 0===s?void 0:s.name}),((null===(o=e.userId)||void 0===o?void 0:o._id)===(null==u?void 0:u._id)||f)&&(0,n.jsx)("button",{className:l().deleteCommentButton,onClick:()=>k(e._id),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:"16",height:"16",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]}),(0,n.jsx)("p",{className:l().commentBody,children:e.body}),(0,n.jsx)("span",{className:l().commentTime,children:new Date(e.createdAt).toLocaleString()})]})]},e._id)}),0===j.length&&(0,n.jsx)("div",{className:l().noComments,children:"No comments yet. Be the first to comment!"}),(null==C?void 0:C.hasMore)&&(0,n.jsx)("button",{className:l().loadMoreButton,onClick:()=>{if(null==C?void 0:C.hasMore){let e=x+1;_((0,r.wG)({post_id:m,page:e})),y(e)}},children:"Load more comments"})]})]})}},6610:e=>{e.exports={container:"styles_container__WCP1D",navbar:"styles_navbar__16R5U",logo:"styles_logo__HBouD",navbarOptions:"styles_navbarOptions__fbl7O",userSection:"styles_userSection__K1Yhl",userName:"styles_userName__xf9_E",profileLink:"styles_profileLink____x7y",buttonJoin:"styles_buttonJoin__hW__U",buttonLogout:"styles_buttonLogout__SY8h5"}},7689:e=>{e.exports={commentsSection:"styles_commentsSection__g0AiH",commentHeader:"styles_commentHeader__Ao66s",backButton:"styles_backButton__grb7a",commentInputContainer:"styles_commentInputContainer__M52TX",commentUserAvatar:"styles_commentUserAvatar__F2cXQ",commentInput:"styles_commentInput__eo1Ha",commentButton:"styles_commentButton__H7VEy",commentsList:"styles_commentsList__kx4dc",commentItem:"styles_commentItem__Zvxpw",commentContent:"styles_commentContent__slFhr",commentUserName:"styles_commentUserName__jIOUv",commentBody:"styles_commentBody__Euwvf",commentTime:"styles_commentTime__dpk2e",deleteCommentButton:"styles_deleteCommentButton__8jFNf",noCommentsMessage:"styles_noCommentsMessage__f2HVp",userAvatar:"styles_userAvatar__nJKYz",commentAvatar:"styles_commentAvatar__isXf9",commentAuthor:"styles_commentAuthor__7nKW_",loadMoreButton:"styles_loadMoreButton__cv5au",noComments:"styles_noComments__1GSPr",closeButton:"styles_closeButton__KLCBw",commentContainer:"styles_commentContainer__Z6B8u"}}}]);